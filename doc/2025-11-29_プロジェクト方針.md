
# snaperro è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

## æ¦‚è¦

**snaperro**ï¼ˆã‚¹ãƒŠãƒšãƒ¼ãƒ­ï¼‰ã¯ã€GUIä»˜ããƒ¢ãƒƒã‚¯ãƒ—ãƒ­ã‚­ã‚·ã‚µãƒ¼ãƒãƒ¼ã§ã™ã€‚
è¤‡æ•°ã®APIã‹ã‚‰ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¨˜éŒ²ãƒ»å†ç”Ÿã—ã€é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆã‚’åŠ¹ç‡åŒ–ã—ã¾ã™ã€‚

---

## èƒŒæ™¯ãƒ»ãƒšã‚¤ãƒ³

### ç¾çŠ¶ã®èª²é¡Œ

æ¡ˆä»¶ã§**è¤‡æ•°APIï¼ˆ20ç¨®é¡ï¼‰**ã‚’ã¤ãªã„ã§1ã¤ã®ãƒªã‚¹ãƒˆã‚’ä½œã‚‹ã‚·ã‚¹ãƒ†ãƒ ã‚’é–‹ç™ºä¸­ã€‚

#### ç’°å¢ƒã®å•é¡Œ

| ç’°å¢ƒ | çŠ¶æ…‹ | å•é¡Œ |
|-----|------|------|
| **æœ¬ç•ªç’°å¢ƒ** | 20ç¨®ã®APIé–“ã§æ•´åˆæ€§ãŒå–ã‚Œã¦ã„ã‚‹ | é–‹ç™ºç”¨é€”ã§ã®æ¥ç¶šã¯é¿ã‘ãŸã„ |
| **ãƒ†ã‚¹ãƒˆç’°å¢ƒ** | èª°ã‹ãŒå‹æ‰‹ã«æœ¬ç•ªãƒ‡ãƒ¼ã‚¿ã‚’ã‚³ãƒ”ãƒ¼ | APIé–“ã®æ•´åˆæ€§ãŒå–ã‚Œã¦ã„ãªã„ |

#### çµ„ç¹”ã®åˆ¶ç´„

- ä¸‹è«‹ã‘ã®ç«‹å ´ã§ç’°å¢ƒã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã§ããªã„
- çµ„ç¹”ãŒå¤§è¦æ¨¡ã™ãã‚‹ï¼ˆã“ã®APIã‚’ä½¿ã†ãƒãƒ¼ãƒ ãŒç„¡æ•°ã«ã‚ã‚‹ï¼‰
- ãƒ†ã‚¹ãƒˆç’°å¢ƒã®ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§æ”¹å–„ã¯èª¿æ•´ä¸å¯èƒ½

### ç¾çŠ¶ã®å¯¾ç­–ï¼ˆMSWæ”¹é€ ï¼‰

ç¾åœ¨ã¯MSWã‚’æ”¹é€ ã—ã¦ä»¥ä¸‹ã‚’å®Ÿç¾ï¼š

1. æœ¬ç•ªAPIã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆ + ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®JSONä¿å­˜æ©Ÿèƒ½
2. JSONã‚·ãƒŠãƒªã‚ªã«ã‚°ãƒ«ãƒ¼ãƒ—åã‚’ä»˜ã‘ã‚‹æ©Ÿèƒ½
3. ç”»é¢å³ä¸‹ã«Floating UIã‚’é…ç½®
4. Webãƒšãƒ¼ã‚¸ã®ãƒªãƒ­ãƒ¼ãƒ‰ãªã—ã§ã‚·ãƒŠãƒªã‚ªåˆ‡ã‚Šæ›¿ãˆ
5. Storybookå¯¾å¿œ

#### ç¾çŠ¶ã®å•é¡Œç‚¹

- **ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã«ã¹ã£ãŸã‚Šç´ã¥ã„ã¦ã„ã‚‹** â€” å†åˆ©ç”¨ã§ããªã„
- **æ–°ãƒ¡ãƒ³ãƒãƒ¼ã¸ã®èª¬æ˜ã‚³ã‚¹ãƒˆãŒé«˜ã„** â€” å‹•ãã‚’ç†è§£ã•ã›ã‚‹ã®ãŒå¤§å¤‰
- **ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãŒåˆ†æ•£** â€” ãƒšãƒ¼ã‚¸ã”ã¨ã«mocks/ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’åˆ‡ã£ã¦ã„ã‚‹
- **ãƒ•ãƒ­ãƒ³ãƒˆå°‚ç”¨** â€” ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§ã‚‚åŒã˜ä»•çµ„ã¿ãŒå¿…è¦ã«ãªã£ãŸ

### æ–°ãŸãªè¦ä»¶

ãƒ•ãƒ­ãƒ³ãƒˆï¼‹ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§ä½œã‚Šç›´ã™ã“ã¨ã«ãªã‚Šã€**ãƒ•ãƒ­ãƒ³ãƒˆãƒ»ãƒãƒƒã‚¯åŒæ–¹**ã§åŒã˜ã‚ˆã†ãªãƒ¢ãƒƒã‚¯æ©Ÿèƒ½ãŒå¿…è¦ã«ã€‚

---

## åå‰ã®ç”±æ¥

### snaperroï¼ˆã‚¹ãƒŠãƒšãƒ¼ãƒ­ï¼‰

- **snap** â€” ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã€ç´ æ—©ãã‚­ãƒ£ãƒ—ãƒãƒ£ã™ã‚‹
- **perro** â€” ã‚¹ãƒšã‚¤ãƒ³èªã§ã€ŒçŠ¬ã€ğŸ•

ã€Œå¿ å®Ÿã«ãƒ‡ãƒ¼ã‚¿ã‚’å–ã£ã¦ãã‚‹çŠ¬ã€ã¨ã„ã†ã‚¤ãƒ¡ãƒ¼ã‚¸ã€‚

---

## è¨­è¨ˆæ–¹é‡

### åŸºæœ¬ã‚³ãƒ³ã‚»ãƒ—ãƒˆ

- ç‹¬ç«‹ã—ãŸãƒ—ãƒ­ã‚­ã‚·ã‚µãƒ¼ãƒãƒ¼ã¨ã—ã¦å‹•ä½œ
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ»ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ä¸¡æ–¹ã‹ã‚‰åŒã˜ã‚ˆã†ã«ä½¿ãˆã‚‹
- Web GUIã§ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ãƒ»ã‚·ãƒŠãƒªã‚ªç®¡ç†
- è¨­å®šã¯TypeScriptã§å‹å®‰å…¨ã«

### ãƒ•ãƒ­ãƒ³ãƒˆãƒ»ãƒãƒƒã‚¯ã®ä½¿ã„åˆ†ã‘

ãƒ•ãƒ­ãƒ³ãƒˆã¨ãƒãƒƒã‚¯ã§**åŒæœŸã¯ä¸è¦**ã€‚ãã‚Œãã‚Œç‹¬ç«‹ã—ã¦ãƒ¢ãƒƒã‚¯ã™ã‚‹ã€‚

```
ãƒ•ãƒ­ãƒ³ãƒˆé–‹ç™ºæ™‚:
  Frontend â†’ [snaperro] â†’ ãƒ¢ãƒƒã‚¯è¿”å´
  (Backendã‹ã‚‰ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ãƒ¢ãƒƒã‚¯)

ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™ºæ™‚:
  Backend â†’ [snaperro] â†’ ãƒ¢ãƒƒã‚¯è¿”å´
  (å¤–éƒ¨APIã‚’ãƒ¢ãƒƒã‚¯)
```

---

## æ©Ÿèƒ½ä»•æ§˜

### 3ã¤ã®ãƒ¢ãƒ¼ãƒ‰

| ãƒ¢ãƒ¼ãƒ‰ | æœ¬ç‰©ã®API | JSONä¿å­˜ | è¿”ã™ã‚‚ã® | ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ |
|-------|----------|---------|---------|-------------|
| **Proxy** | ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ | ã—ãªã„ | æœ¬ç‰©ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ | æ™®é€šã«é–‹ç™ºã€è¨­å®šçµ±ä¸€ã—ãŸã„ |
| **Record** | ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ | ã™ã‚‹ | æœ¬ç‰©ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ | ä»Šã®çŠ¶æ…‹ã‚’ä¿å­˜ã—ãŸã„ |
| **Mock** | ã‚¢ã‚¯ã‚»ã‚¹ã—ãªã„ | ã—ãªã„ | ä¿å­˜æ¸ˆã¿JSON | ä¿å­˜ãƒ‡ãƒ¼ã‚¿ã§é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆ |

### é€£ç•ªå¯¾å¿œ

åŒã˜APIã«è¤‡æ•°å›ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒã‚ã‚‹å ´åˆã€é€£ç•ªã§ä¿å­˜ãƒ»å†ç”Ÿï¼š

**Recordæ™‚:**
```
1å›ç›®ã®GET /api/users â†’ api/users/GET_1.json ã«ä¿å­˜
2å›ç›®ã®GET /api/users â†’ api/users/GET_2.json ã«ä¿å­˜
3å›ç›®ã®GET /api/users â†’ api/users/GET_3.json ã«ä¿å­˜
```

**Mockæ™‚:**
```
1å›ç›®ã®GET /api/users â†’ api/users/GET_1.json ã‚’è¿”ã™
2å›ç›®ã®GET /api/users â†’ api/users/GET_2.json ã‚’è¿”ã™
3å›ç›®ã®GET /api/users â†’ api/users/GET_3.json ã‚’è¿”ã™ï¼ˆãªã‘ã‚Œã°æœ€å¾Œã®ã‚’è¿”ã™ï¼‰
```

### ã‚·ãƒŠãƒªã‚ªç®¡ç†

- ãƒ•ã‚©ãƒ«ãƒ€å˜ä½ã§ã‚·ãƒŠãƒªã‚ªã‚’ç®¡ç†
- GUIã‹ã‚‰ãƒ•ã‚©ãƒ«ãƒ€é¸æŠã§ã‚·ãƒŠãƒªã‚ªåˆ‡ã‚Šæ›¿ãˆ
- Googleãƒ‰ãƒ©ã‚¤ãƒ–/ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼ã®ã‚ˆã†ãªUI

### ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ–ãƒ«API

ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‹ã‚‰ã‚·ãƒŠãƒªã‚ªåˆ‡ã‚Šæ›¿ãˆå¯èƒ½ï¼š

```typescript
import { snaperro } from 'snaperro/client'

test('æ­£å¸¸ç³»', async () => {
  await snaperro.setScenario('æ­£å¸¸ç³»ãƒ•ãƒ«')
  const result = await myService.fetchData()
  expect(result).toHaveLength(10)
})

test('ç©ºãƒ‡ãƒ¼ã‚¿', async () => {
  await snaperro.setScenario('ç©ºãƒ‡ãƒ¼ã‚¿')
  const result = await myService.fetchData()
  expect(result).toHaveLength(0)
})
```

---

## APIè¨­å®š

### èƒŒæ™¯

- 20ç¨®ã®APIãŒã‚ã‚Šã€ãã‚Œãã‚Œãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ»ãƒ˜ãƒƒãƒ€ãƒ¼ãƒ»secretãŒç•°ãªã‚‹
- APIè¨­å®šã¯ç¾çŠ¶ã¾ã¨ã¾ã£ã¦ã„ãªã„ â†’ **snaperroã§åˆã‚ã¦ä¸€å…ƒç®¡ç†ã•ã‚Œã‚‹**
- secretã¯`.env`ã§ç®¡ç†ï¼ˆæ—¢å­˜ã®é‹ç”¨ã‚’ç¶™ç¶šï¼‰
- ãƒ‘ã‚¹ã§ã‚ã‚‹ç¨‹åº¦APIã‚’åˆ¤åˆ¥å¯èƒ½

### èªè¨¼ãƒ‘ã‚¿ãƒ¼ãƒ³

ã‚¢ãƒ—ãƒªå´ã§èªè¨¼ãƒ•ãƒ­ãƒ¼ã‚’å®Ÿè¡Œï¼š

```
ã‚¢ãƒ—ãƒª â†’ API-Aï¼ˆèªè¨¼ï¼‰â†’ ãƒˆãƒ¼ã‚¯ãƒ³å–å¾—
ã‚¢ãƒ—ãƒª â†’ API-Bï¼ˆãƒˆãƒ¼ã‚¯ãƒ³ä»˜ãï¼‰â†’ ãƒ‡ãƒ¼ã‚¿å–å¾—
```

â†’ snaperroã§ã¯**èªè¨¼ãƒ•ãƒ­ãƒ¼ã”ã¨ãƒ¢ãƒƒã‚¯**ã™ã‚‹ï¼ˆAPI-Aã‚‚å›ºå®šãƒˆãƒ¼ã‚¯ãƒ³ã‚’è¿”ã™ï¼‰

---

## ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
your-project/
â”œâ”€â”€ snaperro.config.ts     â† è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆGitç®¡ç†ã™ã‚‹ï¼‰
â”œâ”€â”€ .env                   â† secreté¡ï¼ˆGitç®¡ç†ã—ãªã„ï¼‰
â”œâ”€â”€ .env.example           â† ç’°å¢ƒå¤‰æ•°ãƒ†ãƒ³ãƒ—ãƒ¬ï¼ˆGitç®¡ç†ã™ã‚‹ï¼‰
â”œâ”€â”€ .gitignore             â† ".snaperro" ã‚’è¿½åŠ 
â””â”€â”€ .snaperro/             â† éŒ²ç”»ãƒ‡ãƒ¼ã‚¿ï¼ˆGitç®¡ç†ã—ãªã„ãƒ»è‡ªå‹•ç”Ÿæˆï¼‰
    â””â”€â”€ files/
        â”œâ”€â”€ æ­£å¸¸ç³»ãƒ•ãƒ«/
        â”‚   â”œâ”€â”€ api/users/GET_1.json
        â”‚   â”œâ”€â”€ api/users/GET_2.json
        â”‚   â””â”€â”€ api/orders/GET_1.json
        â”œâ”€â”€ ç©ºãƒ‡ãƒ¼ã‚¿/
        â”‚   â””â”€â”€ api/users/GET_1.json
        â””â”€â”€ ã‚¨ãƒ©ãƒ¼ç³»/
            â””â”€â”€ api/users/GET_1.json
```

### Gitç®¡ç†æ–¹é‡

| ãƒ•ã‚¡ã‚¤ãƒ« | Gitç®¡ç† | ç†ç”± |
|---------|--------|------|
| `snaperro.config.ts` | âœ… ã™ã‚‹ | APIå®šç¾©ã€ãƒãƒ¼ãƒ ã§å…±æœ‰ã™ã¹ã |
| `.env.example` | âœ… ã™ã‚‹ | ç’°å¢ƒå¤‰æ•°ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ |
| `.env` | âŒ ã—ãªã„ | å®Ÿéš›ã®secret |
| `.snaperro/` | âŒ ã—ãªã„ | æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã‚’å«ã‚€JSON |

---

## è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

```typescript
// snaperro.config.ts
import { defineConfig } from 'snaperro'

export default defineConfig({
  port: 3333,

  apis: {
    userService: {
      name: "ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚µãƒ¼ãƒ“ã‚¹",
      target: "https://user-api.example.com",
      headers: {
        "X-Api-Key": process.env.USER_API_KEY!,
      },
      match: ["/api/users/**"],
    },

    orderService: {
      name: "æ³¨æ–‡ã‚µãƒ¼ãƒ“ã‚¹",
      target: "https://order-api.example.com",
      headers: {
        "Authorization": `Bearer ${process.env.ORDER_TOKEN}`,
      },
      match: ["/api/orders/**"],
    },

    authService: {
      name: "èªè¨¼ã‚µãƒ¼ãƒ“ã‚¹",
      target: "https://auth.example.com",
      headers: {
        "X-Client-Secret": process.env.AUTH_SECRET!,
      },
      match: ["/auth/**"],
    },

    // ... ä»–17å€‹ã®API
  },
})
```

### å‹å®šç¾©

```typescript
interface SnaperroConfig {
  port?: number

  apis: {
    [key: string]: {
      name: string
      target: string
      headers?: Record<string, string>
      match: string[]
    }
  }
}

export function defineConfig(config: SnaperroConfig): SnaperroConfig {
  return config
}
```

---

## ã‚³ãƒãƒ³ãƒ‰

```bash
# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install -D snaperro

# åˆæœŸåŒ–ï¼ˆ.snaperro/ ä½œæˆã€.gitignore ã«è¿½åŠ ï¼‰
npx snaperro init

# èµ·å‹•
npx snaperro start
# â†’ http://localhost:3333 ã§GUI
```

---

## GUIã‚¤ãƒ¡ãƒ¼ã‚¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ• snaperro                                 localhost:3333    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                â”‚
â”‚  ãƒ¢ãƒ¼ãƒ‰: â—‹ Proxy  â—‹ Record  â— Mock                            â”‚
â”‚                                                                â”‚
â”‚  ä¿å­˜å…ˆ/é¸æŠä¸­: æ­£å¸¸ç³»ãƒ•ãƒ« â–¼                                    â”‚
â”‚                                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      â”‚                                         â”‚
â”‚  ğŸ“ files/      â”‚  api/users/GET_1.json                   â”‚
â”‚  â”œâ”€ ğŸ“ æ­£å¸¸ç³»ãƒ•ãƒ« â—  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â”‚  â”œâ”€ api/         â”‚  {                                      â”‚
â”‚  â”‚  â”‚  â””â”€ users/    â”‚    "users": [                           â”‚
â”‚  â”‚  â”‚     â”œâ”€ GET_1  â”‚      { "id": 1, "name": "ç”°ä¸­" },       â”‚
â”‚  â”‚  â”‚     â””â”€ GET_2  â”‚      { "id": 2, "name": "ä½è—¤" }        â”‚
â”‚  â”‚  â””â”€ ...          â”‚    ]                                    â”‚
â”‚  â”œâ”€ ğŸ“ ç©ºãƒ‡ãƒ¼ã‚¿      â”‚  }                                      â”‚
â”‚  â””â”€ ğŸ“ ã‚¨ãƒ©ãƒ¼ç³»      â”‚                                         â”‚
â”‚                      â”‚                                         â”‚
â”‚  [+ æ–°è¦ãƒ•ã‚©ãƒ«ãƒ€]    â”‚  [ç·¨é›†] [å‰Šé™¤] [è¤‡è£½]                   â”‚
â”‚                      â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                snaperro server (ç‹¬ç«‹ãƒ—ãƒ­ã‚»ã‚¹)                 â”‚
â”‚                     localhost:3333                          â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Web GUI   â”‚  â”‚  Scenario   â”‚  â”‚    JSON Storage     â”‚ â”‚
â”‚  â”‚ ã‚·ãƒŠãƒªã‚ªé¸æŠ â”‚â†â†’â”‚   Manager   â”‚â†â†’â”‚ .snaperro/          â”‚ â”‚
â”‚  â”‚ ã‚­ãƒ£ãƒ—ãƒãƒ£   â”‚  â”‚  (çŠ¶æ…‹ç®¡ç†) â”‚  â”‚  â””â”€ files/     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚         â†‘              â†‘                                    â”‚
â”‚         â”‚              â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚  â”‚        REST API              â”‚                          â”‚
â”‚  â”‚ GET  /api/* â†’ ãƒ¢ãƒƒã‚¯è¿”å´      â”‚                          â”‚
â”‚  â”‚ POST /__snaperro__/scenario  â”‚                          â”‚
â”‚  â”‚ POST /__snaperro__/mode      â”‚                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†‘                              â†‘
        â”‚                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Frontend   â”‚              â”‚    Backend    â”‚
â”‚  Next.jsç­‰    â”‚              â”‚  Expressç­‰    â”‚
â”‚ localhost:3000â”‚              â”‚ localhost:4000â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä½¿ã„æ–¹ãƒ•ãƒ­ãƒ¼

### åˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
npm install -D snaperro
npx snaperro init
# â†’ .snaperro/ ãŒä½œã‚‰ã‚Œã‚‹
# â†’ .gitignore ã«è¿½åŠ ã•ã‚Œã‚‹
# â†’ snaperro.config.ts ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒä½œã‚‰ã‚Œã‚‹
```

### æ–°ã—ã„ã‚·ãƒŠãƒªã‚ªã‚’ä½œã‚‹

1. GUIã§ã€Œæ–°è¦ãƒ•ã‚©ãƒ«ãƒ€ã€â†’ã€Œæ±ºæ¸ˆã‚¨ãƒ©ãƒ¼ã€ã¨åä»˜ã‘ã‚‹
2. ã€Œæ±ºæ¸ˆã‚¨ãƒ©ãƒ¼ã€ã‚’é¸æŠ
3. ãƒ¢ãƒ¼ãƒ‰ã‚’ã€ŒRecordã€ã«
4. ã‚¢ãƒ—ãƒªã‚’æ“ä½œï¼ˆãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒé£›ã¶ â†’ JSONä¿å­˜ã•ã‚Œã‚‹ï¼‰
5. å¿…è¦ã«å¿œã˜ã¦GUIã§JSONã‚’ç·¨é›†ï¼ˆã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«æ›¸ãæ›ãˆã¨ã‹ï¼‰
6. ãƒ¢ãƒ¼ãƒ‰ã‚’ã€ŒMockã€ã«
7. ä»¥é™ã€ã“ã®ã‚·ãƒŠãƒªã‚ªã§ãƒ¢ãƒƒã‚¯é–‹ç™ºã§ãã‚‹

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰ä½¿ã†

```typescript
// next.config.js
async rewrites() {
  if (process.env.USE_MOCK === 'true') {
    return [{
      source: '/api/:path*',
      destination: 'http://localhost:3333/api/:path*'
    }]
  }
  return []
}
```

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‹ã‚‰ä½¿ã†

```typescript
const API_BASE = process.env.USE_MOCK === 'true'
  ? 'http://localhost:3333'
  : 'https://real-api.example.com'

const response = await fetch(`${API_BASE}/api/users`)
```

### ãƒ†ã‚¹ãƒˆã‹ã‚‰ä½¿ã†

```typescript
import { snaperro } from 'snaperro/client'

beforeAll(async () => {
  await snaperro.connect('http://localhost:3333')
})

test('æ­£å¸¸ç³»', async () => {
  await snaperro.setScenario('æ­£å¸¸ç³»ãƒ•ãƒ«')
  const result = await myService.fetchData()
  expect(result).toHaveLength(10)
})
```

---

## ãƒãƒ¼ãƒ æƒ…å ±

- ãƒãƒ¼ãƒ è¦æ¨¡: 5äººç¨‹åº¦
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰: Node.js (TypeScript)
- API: å…¨ã¦RESTï¼ˆ20ç¨®é¡ï¼‰
- ã‚·ãƒŠãƒªã‚ªæ•°: é–‹ç™ºæ™‚3ã‚·ãƒŠãƒªã‚ªã€ãƒ†ã‚¹ãƒˆãƒ•ã‚§ãƒ¼ã‚ºæ™‚10ã‚·ãƒŠãƒªã‚ªç¨‹åº¦ï¼ˆ+ ã‚¨ãƒ©ãƒ¼ã‚·ãƒŠãƒªã‚ªï¼‰

---

## æœªæ±ºå®šäº‹é …

### æŠ€è¡“é¸å®š

- ã‚µãƒ¼ãƒãƒ¼: Express? Hono? Fastify?
- GUI: React? Vue? Solid?

### ãƒ•ã‚§ãƒ¼ã‚ºåˆ†ã‘

**Phase 1ï¼ˆMVPï¼‰:**
- [ ] Proxy / Record / Mock ã®3ãƒ¢ãƒ¼ãƒ‰
- [ ] TypeScriptè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
- [ ] é€£ç•ªå¯¾å¿œ
- [ ] ã‚·ãƒ³ãƒ—ãƒ«ãªWeb GUIï¼ˆãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ã€ãƒ•ã‚©ãƒ«ãƒ€é¸æŠã€JSONé–²è¦§ï¼‰

**Phase 2:**
- [ ] GUIä¸Šã§JSONç·¨é›†
- [ ] ãƒ†ã‚¹ãƒˆç”¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
- [ ] ãƒ•ã‚©ãƒ«ãƒ€ã®ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—
- [ ] è¤‡è£½æ©Ÿèƒ½
