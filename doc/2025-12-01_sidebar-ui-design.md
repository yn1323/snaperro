# Sidebarファイル表示改善デザイン

## 目的
- パターン内のJSONファイル表示をツリー構造で階層化
- コンパクト表示でスクロール削減
- 将来のダウンロード機能に対応したUI設計

## UIデザイン

```
┌──────────────────────────────────────┐
│ ▼ PATTERNS                           │
├──────────────────────────────────────┤
│   ● default              [⬇ZIP]      │ ← パターンZIPダウンロード
│     local-dev            [⬇ZIP]      │
│     staging              [⬇ZIP]      │
│   [+ New Pattern]                    │
├──────────────────────────────────────┤
│   ENDPOINTS IN "default"             │
├──────────────────────────────────────┤
│ ▼ /api                               │
│   ▼ /users                           │
│     │ G 200 1.2K         [⬇]        │ ← JSONダウンロード
│     │ P 201 0.5K         [⬇]        │
│     └▼ /{id}                         │
│       │ G 200 0.8K       [⬇]        │
│       │ U 200 0.3K       [⬇]        │
│       └ D 204 --         [⬇]        │
│   ▶ /products (3)                    │ ← 折りたたみ時は件数
│ ▼ /auth                              │
│   │ P 200 0.2K           [⬇]        │
│   └ P 401 0.1K           [⬇]        │
└──────────────────────────────────────┘
```

## 主な改善点

### 1. ツリー構造
- パスを階層化 (`/api/users/{id}` → `/api` > `/users` > `/{id}`)
- 数字のみのセグメントを `{id}` に正規化
- 折りたたみ可能、件数表示

### 2. コンパクト表示
| 要素 | 現在 | 改善後 |
|------|------|--------|
| メソッド | `GET` | `G` (色で識別) |
| パス | フルパス | 相対パス |
| サイズ | `1.2KB` | `1.2K` |

### 3. ダウンロード機能UI（将来対応）
- ホバー時のみアイコン表示
- パターン: ZIPダウンロード `[⬇ZIP]`
- ファイル: JSONダウンロード `[⬇]`

## メソッドカラー
- G (GET): `#3fb950` 緑
- P (POST): `#58a6ff` 青
- U (PUT): `#d29922` 黄
- A (PATCH): `#db6d28` オレンジ
- D (DELETE): `#f85149` 赤

## コンポーネント構造

```
gui/src/components/
├── Sidebar.tsx              (リファクタリング)
├── sidebar/
│   ├── types.ts             (TreeNode, EndpointInfo型)
│   ├── PatternSection.tsx   (パターン一覧)
│   ├── EndpointTree.tsx     (ツリー本体)
│   ├── TreeNode.tsx         (再帰的ノード描画)
│   └── EndpointItem.tsx     (エンドポイント行)
└── hooks/
    └── useEndpointTree.ts   (ツリー構築ロジック)
```

## 実装フェーズ

1. 型定義とユーティリティ作成
2. 末端コンポーネント（EndpointItem）
3. ツリー構造（TreeNode, EndpointTree）
4. パターンセクション
5. Sidebar統合
