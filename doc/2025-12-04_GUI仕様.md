# snaperro GUI ä»•æ§˜æ›¸

## æ¦‚è¦

snaperroã®GUIã‚’å®Ÿè£…ã™ã‚‹ã€‚ãƒ¢ãƒƒã‚¯ãƒ—ãƒ­ã‚­ã‚·ã‚µãƒ¼ãƒãƒ¼ã®æ“ä½œã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰è¡Œãˆã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚

- **ã‚¢ã‚¯ã‚»ã‚¹URL**: `http://localhost:3333/__snaperro__/client`
- **èµ·å‹•**: `npx snaperro start` æ™‚ã«ãƒ–ãƒ©ã‚¦ã‚¶ãŒè‡ªå‹•ã§é–‹ã

---

## æ©Ÿèƒ½ä¸€è¦§

### 1. ãƒ¢ãƒ¼ãƒ‰ç®¡ç†

| æ©Ÿèƒ½ | è©³ç´° |
|------|------|
| ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ | Proxy / Record / Mock ã®ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯åˆ‡æ›¿ |
| ç¾åœ¨ãƒ¢ãƒ¼ãƒ‰è¡¨ç¤º | è¦–è¦šçš„ã«ã‚ã‹ã‚Šã‚„ã™ã„çŠ¶æ…‹è¡¨ç¤ºï¼ˆãƒœã‚¿ãƒ³ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆç­‰ï¼‰ |
| Recordåˆ‡æ›¿æ™‚ | **å¿…ãšæ–°è¦ãƒ‘ã‚¿ãƒ¼ãƒ³ä½œæˆãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’è¡¨ç¤ºã—ã€ãƒ‘ã‚¿ãƒ¼ãƒ³åå…¥åŠ›ã‚’å¼·åˆ¶** |
| éŒ²ç”»ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ | Recordãƒ¢ãƒ¼ãƒ‰ä¸­ã¯ã‚·ãƒ³ãƒ—ãƒ«ãªè¡¨ç¤ºï¼ˆèµ¤ã„â—ãªã©ï¼‰ |

### 2. ãƒ‘ã‚¿ãƒ¼ãƒ³ç®¡ç†

| æ©Ÿèƒ½ | è©³ç´° |
|------|------|
| ãƒ‘ã‚¿ãƒ¼ãƒ³ä¸€è¦§è¡¨ç¤º | å·¦ãƒšã‚¤ãƒ³ã«ãƒªã‚¹ãƒˆè¡¨ç¤º |
| ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ‡æ›¿ | ã‚¯ãƒªãƒƒã‚¯ã§é¸æŠ |
| æ–°è¦ä½œæˆ | [+ æ–°è¦] ãƒœã‚¿ãƒ³ â†’ åå‰å…¥åŠ›ãƒ€ã‚¤ã‚¢ãƒ­ã‚° |
| è¤‡è£½ | [â‹®] ãƒ¡ãƒ‹ãƒ¥ãƒ¼ â†’ è¤‡è£½ |
| ãƒªãƒãƒ¼ãƒ  | [â‹®] ãƒ¡ãƒ‹ãƒ¥ãƒ¼ â†’ ãƒªãƒãƒ¼ãƒ  |
| å‰Šé™¤ | [â‹®] ãƒ¡ãƒ‹ãƒ¥ãƒ¼ â†’ å‰Šé™¤ï¼ˆç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ä»˜ãï¼‰ |
| ZIPã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ | [â‹®] ãƒ¡ãƒ‹ãƒ¥ãƒ¼ â†’ ZIPãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ |
| ZIPã‚¤ãƒ³ãƒãƒ¼ãƒˆ | [ZIPå–è¾¼] ãƒœã‚¿ãƒ³ or ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ— |

### 3. ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†

| æ©Ÿèƒ½ | è©³ç´° |
|------|------|
| ãƒ•ã‚¡ã‚¤ãƒ«ãƒ„ãƒªãƒ¼è¡¨ç¤º | ä¸­å¤®ãƒšã‚¤ãƒ³ã«ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆåˆ¥ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚° |
| ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚° | `/api/users` ãªã©ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå˜ä½ã§æŠ˜ã‚ŠãŸãŸã¿å¯èƒ½ |
| ãƒ•ã‚¡ã‚¤ãƒ«æ•°è¡¨ç¤º | å„ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®æ¨ªã«ãƒ•ã‚¡ã‚¤ãƒ«æ•°ã‚’è¡¨ç¤º (ä¾‹: `/api/users (15)`) |
| æ¤œç´¢ | ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚µã‚¤ãƒ‰æ¤œç´¢ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«åãƒ»ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆåã§çµã‚Šè¾¼ã¿ï¼‰ |
| ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ | [+ ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰] ãƒœã‚¿ãƒ³ |
| å‰Šé™¤ | å³ãƒšã‚¤ãƒ³ã® [å‰Šé™¤] ãƒœã‚¿ãƒ³ |

### 4. JSONã‚¨ãƒ‡ã‚£ã‚¿

| æ©Ÿèƒ½ | è©³ç´° |
|------|------|
| ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹è¡¨ç¤º | ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆè¡¨ç¤ºï¼ˆã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆãªã—ï¼‰ |
| ãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›† | textarea ã§ã®ç·¨é›† |
| JSONæ•´å½¢ | [æ•´å½¢] ãƒœã‚¿ãƒ³ã§ `JSON.stringify(obj, null, 2)` ã‚’é©ç”¨ |
| ä¿å­˜ | [ä¿å­˜] ãƒœã‚¿ãƒ³ |
| å‰Šé™¤ | [å‰Šé™¤] ãƒœã‚¿ãƒ³ï¼ˆç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ä»˜ãï¼‰ |

### 5. ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°ï¼ˆSSEï¼‰

| æ©Ÿèƒ½ | è©³ç´° |
|------|------|
| éŒ²ç”»ä¸­ã®ãƒ©ã‚¤ãƒ–è¡¨ç¤º | Recordãƒ¢ãƒ¼ãƒ‰ã§æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«ãŒå³åº§ã«ãƒ„ãƒªãƒ¼ã«è¿½åŠ  |
| çŠ¶æ…‹åŒæœŸ | ãƒ¢ãƒ¼ãƒ‰/ãƒ‘ã‚¿ãƒ¼ãƒ³å¤‰æ›´ãŒå³åº§ã«åæ˜  |
| ãƒ‘ã‚¿ãƒ¼ãƒ³æ“ä½œåŒæœŸ | ä½œæˆ/å‰Šé™¤/ãƒªãƒãƒ¼ãƒ ãŒå³åº§ã«åæ˜  |

---

## ç”»é¢ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

### å…¨ä½“æ§‹æˆï¼ˆ3ãƒšã‚¤ãƒ³ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [â— Record] [Proxy] [Mock]                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Patterns   â”‚ Files              â”‚  Editor                       â”‚
â”‚ (150pxå›ºå®š)â”‚ (250px, ãƒªã‚µã‚¤ã‚ºå¯)â”‚  (æ®‹ã‚Šå¹…)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è©³ç´°ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [â— Record] [Proxy] [Mock]                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Patterns   â”‚ Files              â”‚  api_users_001.json           â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ ğŸ” [æ¤œç´¢...]       â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ Happy Path â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚  {                            â”‚
â”‚   [â‹®]      â”‚ â–¼ /api/users (15)  â”‚    "endpoint": "/api/users",  â”‚
â”‚ Error Case â”‚   â”œâ”€ _001.json     â”‚    "method": "GET",           â”‚
â”‚   [â‹®]      â”‚   â””â”€ _002.json     â”‚    "request": {               â”‚
â”‚ Empty Data â”‚ â–¶ /api/orders (32) â”‚      "pathParams": {},        â”‚
â”‚   [â‹®]      â”‚ â–¶ /api/products    â”‚      "queryParams": {},       â”‚
â”‚            â”‚                    â”‚      "headers": {},           â”‚
â”‚            â”‚                    â”‚      "body": null             â”‚
â”‚            â”‚                    â”‚    },                         â”‚
â”‚            â”‚                    â”‚    "response": {              â”‚
â”‚            â”‚                    â”‚      "status": 200,           â”‚
â”‚ [+ æ–°è¦]   â”‚                    â”‚      "headers": {},           â”‚
â”‚ [ZIPå–è¾¼]  â”‚ [+ ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰]   â”‚      "body": { ... }          â”‚
â”‚            â”‚                    â”‚    }                          â”‚
â”‚            â”‚                    â”‚  }                            â”‚
â”‚            â”‚                    â”‚                               â”‚
â”‚            â”‚                    â”‚        [æ•´å½¢] [ä¿å­˜] [å‰Šé™¤]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å„ãƒšã‚¤ãƒ³ã®è©³ç´°

#### å·¦ãƒšã‚¤ãƒ³: Patterns (å¹…: 150pxå›ºå®š)

- ãƒ‘ã‚¿ãƒ¼ãƒ³ä¸€è¦§ã‚’ãƒªã‚¹ãƒˆè¡¨ç¤º
- é¸æŠä¸­ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ãƒã‚¤ãƒ©ã‚¤ãƒˆ
- å„ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å³å´ã« [â‹®] ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒœã‚¿ãƒ³
- ä¸‹éƒ¨ã« [+ æ–°è¦] ã¨ [ZIPå–è¾¼] ãƒœã‚¿ãƒ³

**[â‹®] ãƒ¡ãƒ‹ãƒ¥ãƒ¼å†…å®¹:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒªãƒãƒ¼ãƒ         â”‚
â”‚ è¤‡è£½            â”‚
â”‚ ZIPãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ å‰Šé™¤            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ä¸­å¤®ãƒšã‚¤ãƒ³: Files (å¹…: 250px, ãƒªã‚µã‚¤ã‚ºå¯èƒ½)

- ä¸Šéƒ¨ã«æ¤œç´¢ãƒœãƒƒã‚¯ã‚¹
- ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆåˆ¥ã«ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°
- å„ã‚°ãƒ«ãƒ¼ãƒ—ã¯æŠ˜ã‚ŠãŸãŸã¿å¯èƒ½ï¼ˆâ–¼/â–¶ï¼‰
- ã‚°ãƒ«ãƒ¼ãƒ—åã®æ¨ªã«ãƒ•ã‚¡ã‚¤ãƒ«æ•°è¡¨ç¤º
- ä¸‹éƒ¨ã« [+ ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰] ãƒœã‚¿ãƒ³

**ãƒ„ãƒªãƒ¼æ§‹é€ ä¾‹:**
```
â–¼ /api/users (15)
  â”œâ”€ api_users_001.json
  â”œâ”€ api_users_002.json
  â””â”€ api_users_{id}_001.json
â–¶ /api/orders (32)
â–¶ /api/products (48)
â–¶ /api/auth (8)
```

#### å³ãƒšã‚¤ãƒ³: Editor (å¹…: æ®‹ã‚Š)

- ãƒ•ã‚¡ã‚¤ãƒ«åã‚’ãƒ˜ãƒƒãƒ€ãƒ¼ã«è¡¨ç¤º
- ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã§JSONè¡¨ç¤º/ç·¨é›†
- ä¸‹éƒ¨ã« [æ•´å½¢] [ä¿å­˜] [å‰Šé™¤] ãƒœã‚¿ãƒ³

---

## ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ãƒ•ãƒ­ãƒ¼

### Proxy/Mock â†’ Record ã«åˆ‡ã‚Šæ›¿ãˆã‚‹å ´åˆ

```
1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒ [Record] ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
2. ã€Œæ–°è¦ãƒ‘ã‚¿ãƒ¼ãƒ³ä½œæˆã€ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’è¡¨ç¤º
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ æ–°è¦ãƒ‘ã‚¿ãƒ¼ãƒ³ä½œæˆ             â”‚
   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
   â”‚ ãƒ‘ã‚¿ãƒ¼ãƒ³å:                  â”‚
   â”‚ [________________________]  â”‚
   â”‚                              â”‚
   â”‚        [ã‚­ãƒ£ãƒ³ã‚»ãƒ«] [ä½œæˆ]   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
3. ãƒ‘ã‚¿ãƒ¼ãƒ³åã‚’å…¥åŠ›ã—ã¦ [ä½œæˆ] ã‚’ã‚¯ãƒªãƒƒã‚¯
4. æ–°è¦ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒä½œæˆã•ã‚Œã€é¸æŠã•ã‚Œã‚‹
5. ãƒ¢ãƒ¼ãƒ‰ãŒRecordã«åˆ‡ã‚Šæ›¿ã‚ã‚‹
6. éŒ²ç”»ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ï¼ˆâ—ï¼‰ãŒè¡¨ç¤ºã•ã‚Œã‚‹
```

### Record â†’ Proxy/Mock ã«åˆ‡ã‚Šæ›¿ãˆã‚‹å ´åˆ

```
1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒ [Proxy] ã¾ãŸã¯ [Mock] ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
2. ãã®ã¾ã¾ãƒ¢ãƒ¼ãƒ‰ãŒåˆ‡ã‚Šæ›¿ã‚ã‚‹ï¼ˆãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãªã—ï¼‰
3. éŒ²ç”»ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ãŒæ¶ˆãˆã‚‹
```

---

## ä½¿ç”¨ã™ã‚‹APIï¼ˆæ—¢å­˜ï¼‰

### ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ»ãƒ¢ãƒ¼ãƒ‰
- `GET /__snaperro__/status` - ã‚µãƒ¼ãƒãƒ¼çŠ¶æ…‹å…¨ä½“ã‚’å–å¾—
- `GET /__snaperro__/mode` - ç¾åœ¨ã®ãƒ¢ãƒ¼ãƒ‰ã‚’å–å¾—
- `PUT /__snaperro__/mode` - ãƒ¢ãƒ¼ãƒ‰ã‚’å¤‰æ›´

### ãƒ‘ã‚¿ãƒ¼ãƒ³ç®¡ç†
- `GET /__snaperro__/patterns` - ãƒ‘ã‚¿ãƒ¼ãƒ³ä¸€è¦§
- `GET /__snaperro__/patterns/current` - ç¾åœ¨ã®ãƒ‘ã‚¿ãƒ¼ãƒ³
- `PUT /__snaperro__/patterns/current` - ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ‡æ›¿
- `POST /__snaperro__/patterns` - æ–°è¦ä½œæˆ
- `POST /__snaperro__/patterns/:name/duplicate` - è¤‡è£½
- `PUT /__snaperro__/patterns/:name/rename` - ãƒªãƒãƒ¼ãƒ 
- `DELETE /__snaperro__/patterns/:name` - å‰Šé™¤
- `GET /__snaperro__/patterns/:name/download` - ZIPãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
- `POST /__snaperro__/patterns/upload` - ZIPã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

### ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†
- `GET /__snaperro__/patterns/:pattern/files` - ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§
- `GET /__snaperro__/patterns/:pattern/files/:filename` - ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹å–å¾—
- `POST /__snaperro__/patterns/:pattern/files/upload` - ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
- `PUT /__snaperro__/patterns/:pattern/files/:filename` - ãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›†
- `DELETE /__snaperro__/patterns/:pattern/files/:filename` - ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤

### ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°
- `GET /__snaperro__/events` - SSEã‚¹ãƒˆãƒªãƒ¼ãƒ 

---

## SSEã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§

| ã‚¤ãƒ™ãƒ³ãƒˆ | ç™ºç«ã‚¿ã‚¤ãƒŸãƒ³ã‚° | ãƒ‡ãƒ¼ã‚¿ |
|----------|---------------|--------|
| `connected` | æ¥ç¶šæ™‚ | åˆæœŸçŠ¶æ…‹ï¼ˆmode, currentPattern, patterns, filesï¼‰ |
| `mode_changed` | ãƒ¢ãƒ¼ãƒ‰å¤‰æ›´æ™‚ | æ–°ã—ã„mode |
| `pattern_changed` | ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ‡æ›¿æ™‚ | æ–°ã—ã„currentPattern |
| `pattern_created` | ãƒ‘ã‚¿ãƒ¼ãƒ³ä½œæˆæ™‚ | ä½œæˆã•ã‚ŒãŸpatternå |
| `pattern_deleted` | ãƒ‘ã‚¿ãƒ¼ãƒ³å‰Šé™¤æ™‚ | å‰Šé™¤ã•ã‚ŒãŸpatternå |
| `pattern_renamed` | ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒªãƒãƒ¼ãƒ æ™‚ | oldName, newName |
| `file_created` | ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆæ™‚ | pattern, filename |
| `file_updated` | ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°æ™‚ | pattern, filename |
| `file_deleted` | ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤æ™‚ | pattern, filename |

---

## æŠ€è¡“é¸å®š

| é …ç›® | é¸å®š |
|------|------|
| ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ | React |
| UIãƒ©ã‚¤ãƒ–ãƒ©ãƒª | Tailwind CSS |
| é…ä¿¡æ–¹æ³• | ã‚µãƒ¼ãƒãƒ¼çµ„ã¿è¾¼ã¿ |
| GUIãƒ‘ã‚¹ | `/__snaperro__/client` |
| ãƒ–ãƒ©ã‚¦ã‚¶èµ·å‹• | `npx snaperro start` æ™‚ã«è‡ªå‹•ã§é–‹ã |
| JSONã‚¨ãƒ‡ã‚£ã‚¿ | ãƒ—ãƒ¬ãƒ¼ãƒ³ãªtextareaï¼ˆã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆãªã—ï¼‰ |
| JSONæ•´å½¢ | `JSON.stringify(obj, null, 2)` ã§å¯¾å¿œ |

---

## ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
snaperro/
â”œâ”€â”€ server/                      # æ—¢å­˜ã‚µãƒ¼ãƒãƒ¼ã‚³ãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ handlers/
â”‚   â”‚   â”œâ”€â”€ control-api.ts       # æ—¢å­˜: REST API
â”‚   â”‚   â”œâ”€â”€ index.ts             # ä¿®æ­£: GUIé…ä¿¡ã‚’è¿½åŠ 
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ ...
â”œâ”€â”€ client/                      # æ–°è¦: React GUI
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main.tsx             # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ App.tsx              # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒª
â”‚   â”‚   â”œâ”€â”€ index.css            # Tailwind CSS
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”œâ”€â”€ useSnaperroSSE.ts    # SSEæ¥ç¶šãƒ•ãƒƒã‚¯
â”‚   â”‚   â”‚   â””â”€â”€ useSnaperroAPI.ts    # APIå‘¼ã³å‡ºã—ãƒ•ãƒƒã‚¯
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ Layout.tsx           # 3ãƒšã‚¤ãƒ³ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ ModeSelector.tsx     # ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿
â”‚   â”‚   â”‚   â”œâ”€â”€ PatternList.tsx      # ãƒ‘ã‚¿ãƒ¼ãƒ³ä¸€è¦§ï¼ˆå·¦ãƒšã‚¤ãƒ³ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ PatternMenu.tsx      # [â‹®] ãƒ¡ãƒ‹ãƒ¥ãƒ¼
â”‚   â”‚   â”‚   â”œâ”€â”€ FileTree.tsx         # ãƒ•ã‚¡ã‚¤ãƒ«ãƒ„ãƒªãƒ¼ï¼ˆä¸­å¤®ãƒšã‚¤ãƒ³ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ FileEditor.tsx       # JSONã‚¨ãƒ‡ã‚£ã‚¿ï¼ˆå³ãƒšã‚¤ãƒ³ï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ dialogs/
â”‚   â”‚   â”‚       â”œâ”€â”€ NewPatternDialog.tsx
â”‚   â”‚   â”‚       â”œâ”€â”€ RenameDialog.tsx
â”‚   â”‚   â”‚       â””â”€â”€ ConfirmDialog.tsx
â”‚   â”‚   â””â”€â”€ types/
â”‚   â”‚       â””â”€â”€ index.ts             # å‹å®šç¾©
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ vite.config.ts
â”‚   â”œâ”€â”€ tailwind.config.js
â”‚   â”œâ”€â”€ postcss.config.js
â”‚   â””â”€â”€ tsconfig.json
â”œâ”€â”€ dist/
â”‚   â”œâ”€â”€ index.js                 # æ—¢å­˜: ã‚µãƒ¼ãƒãƒ¼ãƒ“ãƒ«ãƒ‰
â”‚   â”œâ”€â”€ cli/                     # æ—¢å­˜: CLIãƒ“ãƒ«ãƒ‰
â”‚   â””â”€â”€ client/                  # æ–°è¦: GUIãƒ“ãƒ«ãƒ‰å‡ºåŠ›
â”œâ”€â”€ package.json                 # ä¿®æ­£: React/Viteä¾å­˜è¿½åŠ 
â””â”€â”€ tsup.config.ts               # æ—¢å­˜ï¼ˆå¤‰æ›´ãªã—ï¼‰
```

---

## ä¿®æ­£/ä½œæˆãŒå¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«

### æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¿®æ­£

| ãƒ•ã‚¡ã‚¤ãƒ« | ä¿®æ­£å†…å®¹ |
|----------|---------|
| `package.json` | React, Vite, Tailwind ä¾å­˜è¿½åŠ ã€scriptsè¿½åŠ  |
| `server/handlers/index.ts` | `/__snaperro__/client` ã§GUIé…ä¿¡ãƒ«ãƒ¼ãƒˆè¿½åŠ  |
| `cli/commands/start.ts` | èµ·å‹•æ™‚ã«ãƒ–ãƒ©ã‚¦ã‚¶ã‚’è‡ªå‹•ã§é–‹ãå‡¦ç†è¿½åŠ  |

### æ–°è¦ä½œæˆãƒ•ã‚¡ã‚¤ãƒ«

| ãƒ•ã‚¡ã‚¤ãƒ« | å†…å®¹ |
|----------|------|
| `client/index.html` | HTMLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ |
| `client/vite.config.ts` | Viteãƒ“ãƒ«ãƒ‰è¨­å®š |
| `client/tailwind.config.js` | Tailwindè¨­å®š |
| `client/postcss.config.js` | PostCSSè¨­å®š |
| `client/tsconfig.json` | TypeScriptè¨­å®š |
| `client/src/main.tsx` | Reactã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ |
| `client/src/App.tsx` | ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã€3ãƒšã‚¤ãƒ³ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ |
| `client/src/index.css` | Tailwind CSS |
| `client/src/types/index.ts` | å‹å®šç¾© |
| `client/src/hooks/useSnaperroSSE.ts` | SSEæ¥ç¶šã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ çŠ¶æ…‹ç®¡ç† |
| `client/src/hooks/useSnaperroAPI.ts` | REST APIå‘¼ã³å‡ºã— |
| `client/src/components/Layout.tsx` | 3ãƒšã‚¤ãƒ³ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ |
| `client/src/components/ModeSelector.tsx` | ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ |
| `client/src/components/PatternList.tsx` | ãƒ‘ã‚¿ãƒ¼ãƒ³ä¸€è¦§ï¼ˆå·¦ãƒšã‚¤ãƒ³ï¼‰ |
| `client/src/components/PatternMenu.tsx` | [â‹®] ãƒ¡ãƒ‹ãƒ¥ãƒ¼ |
| `client/src/components/FileTree.tsx` | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ„ãƒªãƒ¼ï¼ˆä¸­å¤®ãƒšã‚¤ãƒ³ï¼‰ |
| `client/src/components/FileEditor.tsx` | JSONã‚¨ãƒ‡ã‚£ã‚¿ï¼ˆå³ãƒšã‚¤ãƒ³ï¼‰ |
| `client/src/components/dialogs/NewPatternDialog.tsx` | æ–°è¦ãƒ‘ã‚¿ãƒ¼ãƒ³ä½œæˆãƒ€ã‚¤ã‚¢ãƒ­ã‚° |
| `client/src/components/dialogs/RenameDialog.tsx` | ãƒªãƒãƒ¼ãƒ ãƒ€ã‚¤ã‚¢ãƒ­ã‚° |
| `client/src/components/dialogs/ConfirmDialog.tsx` | ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚° |

---

## ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè©³ç´°ä»•æ§˜

### useSnaperroSSE.ts

```typescript
// æˆ»ã‚Šå€¤
{
  state: {
    mode: "proxy" | "record" | "mock";
    currentPattern: string | null;
    patterns: string[];
    files: FileInfo[];
  } | null;
  connected: boolean;
}

// æ©Ÿèƒ½
- /__snaperro__/events ã«æ¥ç¶š
- å„ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆmode_changed, pattern_changed, file_createdç­‰ï¼‰ã‚’å—ä¿¡ã—ã¦çŠ¶æ…‹æ›´æ–°
- æ¥ç¶šæ–­æ™‚ã®è‡ªå‹•å†æ¥ç¶šï¼ˆ3ç§’å¾Œã«ãƒªãƒˆãƒ©ã‚¤ï¼‰
- Keep-aliveå¯¾å¿œ
```

### useSnaperroAPI.ts

```typescript
// æä¾›ã™ã‚‹é–¢æ•°
{
  // ãƒ¢ãƒ¼ãƒ‰
  changeMode: (mode: "proxy" | "record" | "mock") => Promise<void>;

  // ãƒ‘ã‚¿ãƒ¼ãƒ³
  createPattern: (name: string) => Promise<void>;
  switchPattern: (name: string) => Promise<void>;
  duplicatePattern: (name: string) => Promise<void>;
  renamePattern: (oldName: string, newName: string) => Promise<void>;
  deletePattern: (name: string) => Promise<void>;
  downloadPattern: (name: string) => void;  // ãƒ–ãƒ©ã‚¦ã‚¶ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
  uploadPattern: (file: File) => Promise<void>;

  // ãƒ•ã‚¡ã‚¤ãƒ«
  getFileContent: (pattern: string, filename: string) => Promise<FileData>;
  updateFile: (pattern: string, filename: string, content: FileData) => Promise<void>;
  deleteFile: (pattern: string, filename: string) => Promise<void>;
  uploadFile: (pattern: string, file: File) => Promise<void>;
}
```

### ModeSelector.tsx

```typescript
// Props
{
  currentMode: "proxy" | "record" | "mock";
  onModeChange: (mode: "proxy" | "record" | "mock") => void;
  onRecordWithNewPattern: () => void;  // Recordæ™‚ã«å‘¼ã°ã‚Œã‚‹
}

// è¡¨ç¤º
- 3ã¤ã®ãƒœã‚¿ãƒ³: [â— Record] [Proxy] [Mock]
- ç¾åœ¨ã®ãƒ¢ãƒ¼ãƒ‰ã¯ãƒã‚¤ãƒ©ã‚¤ãƒˆï¼ˆèƒŒæ™¯è‰²å¤‰æ›´ï¼‰
- Recordãƒ¢ãƒ¼ãƒ‰ä¸­ã¯èµ¤ã„â—ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼è¡¨ç¤º
```

### PatternList.tsx

```typescript
// Props
{
  patterns: string[];
  currentPattern: string | null;
  onSelect: (name: string) => void;
  onCreateNew: () => void;
  onUploadZip: (file: File) => void;
}

// è¡¨ç¤º
- ãƒ‘ã‚¿ãƒ¼ãƒ³åãƒªã‚¹ãƒˆ
- é¸æŠä¸­ã¯ãƒã‚¤ãƒ©ã‚¤ãƒˆ
- å„ãƒ‘ã‚¿ãƒ¼ãƒ³ã« [â‹®] ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒœã‚¿ãƒ³
- ä¸‹éƒ¨ã« [+ æ–°è¦] [ZIPå–è¾¼] ãƒœã‚¿ãƒ³
```

### PatternMenu.tsx

```typescript
// Props
{
  patternName: string;
  onRename: () => void;
  onDuplicate: () => void;
  onDownload: () => void;
  onDelete: () => void;
}

// è¡¨ç¤ºï¼ˆãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼‰
- ãƒªãƒãƒ¼ãƒ 
- è¤‡è£½
- ZIPãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
- ---ï¼ˆåŒºåˆ‡ã‚Šç·šï¼‰
- å‰Šé™¤ï¼ˆèµ¤æ–‡å­—ï¼‰
```

### FileTree.tsx

```typescript
// Props
{
  files: FileInfo[];
  selectedFile: string | null;
  searchQuery: string;
  onSearchChange: (query: string) => void;
  onSelectFile: (filename: string) => void;
  onUploadFile: (file: File) => void;
}

// FileInfoå‹
{
  filename: string;
  endpoint: string;
  method: string;
}

// è¡¨ç¤º
- æ¤œç´¢ãƒœãƒƒã‚¯ã‚¹
- ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆåˆ¥ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°ï¼ˆæŠ˜ã‚ŠãŸãŸã¿å¯èƒ½ï¼‰
- å„ã‚°ãƒ«ãƒ¼ãƒ—ã«ãƒ•ã‚¡ã‚¤ãƒ«æ•°è¡¨ç¤º
- [+ ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰] ãƒœã‚¿ãƒ³

// ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°ãƒ­ã‚¸ãƒƒã‚¯
- ãƒ•ã‚¡ã‚¤ãƒ«åã‹ã‚‰ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’æŠ½å‡º
- ä¾‹: api_users_001.json â†’ /api/users
- ä¾‹: api_users_{id}_001.json â†’ /api/users/:id
```

### FileEditor.tsx

```typescript
// Props
{
  filename: string | null;
  content: string;
  onChange: (content: string) => void;
  onFormat: () => void;
  onSave: () => void;
  onDelete: () => void;
  isModified: boolean;
}

// è¡¨ç¤º
- ãƒ˜ãƒƒãƒ€ãƒ¼: ãƒ•ã‚¡ã‚¤ãƒ«åï¼ˆæœªä¿å­˜æ™‚ã¯ * è¡¨ç¤ºï¼‰
- textarea: JSONç·¨é›†ã‚¨ãƒªã‚¢ï¼ˆç­‰å¹…ãƒ•ã‚©ãƒ³ãƒˆï¼‰
- ãƒ•ãƒƒã‚¿ãƒ¼: [æ•´å½¢] [ä¿å­˜] [å‰Šé™¤] ãƒœã‚¿ãƒ³

// æ•´å½¢å‡¦ç†
const formatted = JSON.stringify(JSON.parse(content), null, 2);
```

### NewPatternDialog.tsx

```typescript
// Props
{
  isOpen: boolean;
  onClose: () => void;
  onSubmit: (name: string) => void;
  isForRecord?: boolean;  // Recordåˆ‡æ›¿æ™‚ã®ãƒ•ãƒ©ã‚°
}

// è¡¨ç¤º
- ã‚¿ã‚¤ãƒˆãƒ«: "æ–°è¦ãƒ‘ã‚¿ãƒ¼ãƒ³ä½œæˆ"ï¼ˆRecordæ™‚ã¯ "éŒ²ç”»ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³ä½œæˆ"ï¼‰
- å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰: ãƒ‘ã‚¿ãƒ¼ãƒ³å
- ãƒœã‚¿ãƒ³: [ã‚­ãƒ£ãƒ³ã‚»ãƒ«] [ä½œæˆ]
- ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³: ç©ºæ–‡å­—ä¸å¯ã€é‡è¤‡ä¸å¯
```

### RenameDialog.tsx

```typescript
// Props
{
  isOpen: boolean;
  currentName: string;
  onClose: () => void;
  onSubmit: (newName: string) => void;
}

// è¡¨ç¤º
- ã‚¿ã‚¤ãƒˆãƒ«: "ãƒ‘ã‚¿ãƒ¼ãƒ³åå¤‰æ›´"
- å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰: æ–°ã—ã„ãƒ‘ã‚¿ãƒ¼ãƒ³åï¼ˆåˆæœŸå€¤: currentNameï¼‰
- ãƒœã‚¿ãƒ³: [ã‚­ãƒ£ãƒ³ã‚»ãƒ«] [å¤‰æ›´]
```

### ConfirmDialog.tsx

```typescript
// Props
{
  isOpen: boolean;
  title: string;
  message: string;
  confirmLabel?: string;  // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: "å‰Šé™¤"
  onClose: () => void;
  onConfirm: () => void;
}

// è¡¨ç¤º
- ã‚¿ã‚¤ãƒˆãƒ«
- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
- ãƒœã‚¿ãƒ³: [ã‚­ãƒ£ãƒ³ã‚»ãƒ«] [å‰Šé™¤]ï¼ˆå‰Šé™¤ã¯èµ¤ï¼‰
```

---

## å®Ÿè£…ã‚¹ãƒ†ãƒƒãƒ—

### Phase 1: ç’°å¢ƒæ§‹ç¯‰

#### Step 1.1: ä¾å­˜é–¢ä¿‚è¿½åŠ 

`package.json` ã«ä»¥ä¸‹ã‚’è¿½åŠ :

```json
{
  "devDependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "@types/react": "^18.2.0",
    "@types/react-dom": "^18.2.0",
    "vite": "^5.0.0",
    "@vitejs/plugin-react": "^4.2.0",
    "tailwindcss": "^3.4.0",
    "postcss": "^8.4.0",
    "autoprefixer": "^10.4.0"
  },
  "scripts": {
    "dev:client": "vite --config client/vite.config.ts",
    "build:client": "vite build --config client/vite.config.ts"
  }
}
```

#### Step 1.2: GUIãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–

`client/vite.config.ts`:
```typescript
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

export default defineConfig({
  plugins: [react()],
  root: 'client',
  build: {
    outDir: '../dist/client',
    emptyOutDir: true,
  },
  server: {
    proxy: {
      '/__snaperro__': 'http://localhost:3333'
    }
  }
})
```

`client/tailwind.config.js`:
```javascript
export default {
  content: ['./client/**/*.{html,tsx}'],
  theme: { extend: {} },
  plugins: [],
}
```

`client/index.html`:
```html
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>snaperro</title>
</head>
<body>
  <div id="root"></div>
  <script type="module" src="/src/main.tsx"></script>
</body>
</html>
```

---

### Phase 2: ã‚µãƒ¼ãƒãƒ¼çµ±åˆ

#### Step 2.1: GUIé…ä¿¡ãƒ«ãƒ¼ãƒˆè¿½åŠ 

`server/handlers/index.ts` ã«è¿½åŠ :

```typescript
import { serveStatic } from '@hono/node-server/serve-static'
import path from 'path'
import fs from 'fs'

// GUIé…ä¿¡ï¼ˆ/__snaperro__/clientï¼‰
app.get('/__snaperro__/client', (c) => {
  const indexPath = path.join(__dirname, '../../dist/client/index.html')
  const html = fs.readFileSync(indexPath, 'utf-8')
  return c.html(html)
})

app.use('/__snaperro__/client/assets/*', serveStatic({
  root: './dist/client',
  rewriteRequestPath: (path) => path.replace('/__snaperro__/client', '')
}))
```

#### Step 2.2: ãƒ–ãƒ©ã‚¦ã‚¶è‡ªå‹•èµ·å‹•

`cli/commands/start.ts` ã«è¿½åŠ :

```typescript
import open from 'open'

// ã‚µãƒ¼ãƒãƒ¼èµ·å‹•å¾Œ
await open(`http://localhost:${port}/__snaperro__/client`)
```

---

### Phase 3: åŸºæœ¬UIå®Ÿè£…

#### Step 3.1: å‹å®šç¾©ä½œæˆ

`client/src/types/index.ts`:
```typescript
export type Mode = 'proxy' | 'record' | 'mock'

export interface FileInfo {
  filename: string
  endpoint: string
  method: string
}

export interface SnaperroState {
  mode: Mode
  currentPattern: string | null
  patterns: string[]
  files: FileInfo[]
}

export interface FileData {
  endpoint: string
  method: string
  request: {
    pathParams: Record<string, string>
    queryParams: Record<string, string>
    headers: Record<string, string>
    body: unknown
  }
  response: {
    status: number
    headers: Record<string, string>
    body: unknown
  }
}
```

#### Step 3.2: SSEãƒ•ãƒƒã‚¯å®Ÿè£…

`client/src/hooks/useSnaperroSSE.ts` ã‚’å®Ÿè£…

#### Step 3.3: APIãƒ•ãƒƒã‚¯å®Ÿè£…

`client/src/hooks/useSnaperroAPI.ts` ã‚’å®Ÿè£…

#### Step 3.4: ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå®Ÿè£…

`client/src/App.tsx` ã¨ `client/src/components/Layout.tsx` ã‚’å®Ÿè£…

---

### Phase 4: æ©Ÿèƒ½å®Ÿè£…

#### Step 4.1: ãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿

- `ModeSelector.tsx` å®Ÿè£…
- Recordåˆ‡æ›¿æ™‚ã®æ–°è¦ãƒ‘ã‚¿ãƒ¼ãƒ³ä½œæˆãƒ•ãƒ­ãƒ¼å®Ÿè£…

#### Step 4.2: ãƒ‘ã‚¿ãƒ¼ãƒ³ç®¡ç†

- `PatternList.tsx` å®Ÿè£…
- `PatternMenu.tsx` å®Ÿè£…
- ãƒ‘ã‚¿ãƒ¼ãƒ³CRUDæ“ä½œã®æ¥ç¶š

#### Step 4.3: ãƒ•ã‚¡ã‚¤ãƒ«ãƒ„ãƒªãƒ¼

- `FileTree.tsx` å®Ÿè£…
- ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆåˆ¥ã‚°ãƒ«ãƒ¼ãƒ”ãƒ³ã‚°ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…
- æ¤œç´¢æ©Ÿèƒ½å®Ÿè£…

#### Step 4.4: JSONã‚¨ãƒ‡ã‚£ã‚¿

- `FileEditor.tsx` å®Ÿè£…
- æ•´å½¢ãƒ»ä¿å­˜ãƒ»å‰Šé™¤æ©Ÿèƒ½å®Ÿè£…

---

### Phase 5: ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãƒ»ä»•ä¸Šã’

#### Step 5.1: ãƒ€ã‚¤ã‚¢ãƒ­ã‚°å®Ÿè£…

- `NewPatternDialog.tsx` å®Ÿè£…
- `RenameDialog.tsx` å®Ÿè£…
- `ConfirmDialog.tsx` å®Ÿè£…

#### Step 5.2: ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°

- Tailwindã§ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ
- å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è¦‹ãŸç›®èª¿æ•´

#### Step 5.3: ãƒ†ã‚¹ãƒˆãƒ»ãƒã‚°ä¿®æ­£

- å„æ©Ÿèƒ½ã®å‹•ä½œç¢ºèª
- ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã®å¯¾å¿œ

---

## ä¸è¦ãªæ©Ÿèƒ½ï¼ˆåˆæœŸãƒªãƒªãƒ¼ã‚¹å¯¾è±¡å¤–ï¼‰

- ãƒ•ã‚£ãƒ«ã‚¿ï¼ˆãƒ¡ã‚½ãƒƒãƒ‰åˆ¥ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰åˆ¥ï¼‰
- JSONãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- å·®åˆ†è¡¨ç¤º
- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
- ç›´è¿‘ã®éŒ²ç”»å±¥æ­´
- é‡è¤‡æ¤œå‡ºãƒ»ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°
- ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
- ãƒ¬ã‚¹ãƒãƒ³ã‚¹é…å»¶è¨­å®š
- ã‚·ãƒŠãƒªã‚ªåˆ‡æ›¿
- æ¥ç¶šçŠ¶æ…‹è¡¨ç¤º
- è¨­å®šæ¸ˆã¿APIä¸€è¦§
- çµ±è¨ˆæƒ…å ±
